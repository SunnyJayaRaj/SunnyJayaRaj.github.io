<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MaveRick — Terminal</title>
  <meta name="description" content="MaveRick — API gateway tinkerer. Apigee X, OAuth2, mTLS, OpenAPI. Explore the Apigee-Lab on GitHub." />
  <!-- Social preview (optional) -->
  <meta property="og:title" content="MaveRick — Apigee Dev" />
  <meta property="og:description" content="I build, secure, and monitor API gateways using Google Cloud Apigee." />
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #010409;
      --text: #c9d1d9;
      --accent: #58a6ff;
      --muted: #98a5b1;
      --card: #011627;
    }
    * { box-sizing: border-box; }
    html,body { height: 100%; }
    body {
      background: linear-gradient(180deg, #000 0%, #07111a 60%);
      color: var(--text);
      font-family: 'JetBrains Mono', monospace;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    .term {
      width: min(900px, 92%);
      border-radius: 8px;
      padding: 28px;
      background: var(--card);
      border: 1px solid rgba(255, 255, 255, 0.03);
      box-shadow: 0 20px 60px rgba(2, 6, 23, 0.6);
    }
    .term .row { display: flex; gap: 14px; align-items: center; }
    .dots { display: inline-flex; gap: 8px; margin-bottom: 18px; }
    .dot { width: 12px; height: 12px; border-radius: 50%; display:inline-block; }
    .dot.red { background: #ff5f56; }
    .dot.yellow { background: #ffbd2e; }
    .dot.green { background: #27c93f; }
    h1 { font-size: 1.6rem; margin: 0; color: #e6eef3; }
    .meta { color: var(--muted); margin-top: 6px; font-size: 0.9rem; }
    .terminal-output {
      background: transparent;
      border-left: 3px solid rgba(88, 166, 255, 0.12);
      padding: 18px;
      margin: 20px 0;
      border-radius: 6px;
      color: var(--text);
      line-height: 1.6;
      overflow-x: auto;
      white-space: pre-wrap;
      font-size: 0.95rem;
      position: relative;
      min-height: 120px;
    }
    .cursor {
      display: inline-block;
      width: 10px;
      height: 18px;
      background: rgba(190,224,255,0.9);
      margin-left: 6px;
      vertical-align: middle;
      animation: blink 900ms steps(2, start) infinite;
    }
    @keyframes blink { to { visibility: hidden; } }
    .controls { display:flex; gap:10px; align-items:center; margin-top:8px; flex-wrap:wrap; }
    .btn {
      display:inline-flex; align-items:center; gap:8px;
      padding: 8px 12px; border-radius:6px; background:transparent;
      border:1px solid rgba(255,255,255,0.04); color:var(--accent);
      text-decoration:none; cursor:pointer; font:inherit;
    }
    .btn:focus { outline:3px solid rgba(88,166,255,0.12); outline-offset:3px; }
    .copy-feedback { color: #9ee6a5; font-size: 0.9rem; margin-left:6px; display:none; }
    code { color: #bfe0ff; }
    .skills { display:flex; gap:8px; flex-wrap:wrap; margin-top:12px; }
    .skill {
      padding:6px 10px; border-radius:6px; background:rgba(88,166,255,0.06);
      border:1px solid rgba(88,166,255,0.08); color:var(--accent); font-size:0.85rem;
    }

    /* Responsiveness */
    @media (max-width:520px) {
      h1 { font-size: 1.25rem; }
      .terminal-output { font-size: 0.9rem; padding: 14px; }
      .cursor { height: 16px; }
    }
  </style>
</head>
<body>
  <main class="term" role="main" aria-labelledby="title">
    <div class="dots" aria-hidden="true">
      <span class="dot red"></span>
      <span class="dot yellow"></span>
      <span class="dot green"></span>
    </div>

    <div class="row" style="align-items:flex-start;">
      <div style="flex:1">
        <h1 id="title">MaveRick — Apigee Dev</h1>
        <div class="meta">API Security • Gateways • Observability</div>
      </div>
    </div>

    <!-- Terminal block (typewriter reveals lines) -->
    <div id="terminal" class="terminal-output" aria-live="polite" aria-atomic="false">
      <code id="typed"></code><span id="cursor" class="cursor" aria-hidden="true"></span>
    </div>

    <div class="skills" aria-hidden="false">
      <span class="skill">Apigee X</span>
      <span class="skill">OAuth2</span>
      <span class="skill">mTLS</span>
      <span class="skill">OpenAPI 3.0</span>
      <span class="skill">Postman</span>
    </div>

    <div class="controls" style="margin-top:14px;">
      <a id="openLab" class="btn" href="https://github.com/SunnyJayaRaj/Apigee-Lab" target="_blank" rel="noopener">Open Apigee-Lab →</a>
      <button id="copyBtn" class="btn" type="button" aria-controls="typed">Copy Lab URL</button>
      <button id="replayBtn" class="btn" type="button">Replay</button>
      <span id="copied" class="copy-feedback" role="status">Copied!</span>
    </div>
  </main>

  <script>
    // Lines to display in the terminal block
    const lines = [
      '$ whoami',
      '> MaveRick — API gateway tinkerer',
      '',
      '$ cat README',
      '> The digital world speaks in APIs. I build, secure, and monitor the gateways that power apps.',
      '',
      '$ ls projects',
      '- Curious-Explorer/',
      '- Apigee-Lab/',
      '- SunnyJayaRaj.github.io/',
      '',
      '$ open https://github.com/SunnyJayaRaj/Apigee-Lab'
    ];

    const typedEl = document.getElementById('typed');
    const cursor = document.getElementById('cursor');
    let replaying = false;

    // Typewriter: prints one char at a time with small delays
    async function typeLines(opts = { charDelay: 18, lineDelay: 420 }) {
      typedEl.textContent = '';
      cursor.style.display = 'inline-block';
      for (let i = 0; i < lines.length; i++) {
        const line = lines[i];
        for (let j = 0; j < line.length; j++) {
          typedEl.textContent += line[j];
          await new Promise(r => setTimeout(r, opts.charDelay + Math.random()*6));
        }
          typedEl.textContent += '\n';   // ✔ correct newline
        await new Promise(r => setTimeout(r, opts.lineDelay + Math.random()*80));
      }
      // keep cursor visible but stop blinking sooner by removing animation (optional)
      // cursor.style.animation = 'blink 900ms steps(2,start) infinite';
    }

    // initial run
    typeLines();

    // Controls
    document.getElementById('replayBtn').addEventListener('click', () => {
      if (replaying) return;
      replaying = true;
      typeLines().finally(() => { replaying = false; });
    });

    // Copy-to-clipboard for the GitHub lab link
    const copyBtn = document.getElementById('copyBtn');
    const openLab = document.getElementById('openLab');
    const copied = document.getElementById('copied');
    copyBtn.addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText(openLab.href);
        copied.style.display = 'inline';
        setTimeout(() => { copied.style.display = 'none'; }, 1400);
        copyBtn.focus();
      } catch (err) {
        // fallback
        const tmp = document.createElement('textarea');
        tmp.value = openLab.href;
        document.body.appendChild(tmp);
        tmp.select();
        document.execCommand('copy');
        document.body.removeChild(tmp);
        copied.style.display = 'inline';
        setTimeout(() => { copied.style.display = 'none'; }, 1400);
      }
    });

    // Allow keyboard: Enter on OpenLab should open, Enter on copy button should copy
    copyBtn.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); copyBtn.click(); } });
    document.getElementById('replayBtn').addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); e.target.click(); } });

    // Respect prefers-reduced-motion
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)');
    if (prefersReduced.matches) {
      // show static text immediately
      typedEl.textContent = lines.join('\\n');
      cursor.style.display = 'none';
    }
  </script>
</body>
</html>
